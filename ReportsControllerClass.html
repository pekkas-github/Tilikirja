<script>

class ReportsController {

  constructor() {
    this.reportsModel = new ReportsModel()
  }

  changeYear(year) {
    EventsModel.setCurrentYear(year)
    this.openReportsPage(year)
  }

  openReportsPage(year) {
    const accounts    = EventsModel.getAccounts()
    const years       = EventsModel.getYears()
    const currentYear = EventsModel.getCurrentYear()
    const report      = this.reportsModel.getReport(currentYear)
    
    ReportsView.controller = this
    ReportsView.render(report, accounts, years, currentYear)
  }
}
</script>