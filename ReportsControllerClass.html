<script>

class ReportsController {

  constructor() {
    this.eventsModel  = new EventsModel
    this.reportsModel = new ReportsModel()
  }

  changeYear(year) {
    this.eventsModel.setCurrentYear(year)
    this.openReportsPage(year)
  }

  openReportsPage(year) {
    const report      = this.reportsModel.getReport(year)
    const accounts    = this.eventsModel.getAccounts()
    const years       = this.eventsModel.getYears()
    const reportsView = new ReportsView(this)
    
    reportsView.render(report, accounts, years, year)
  }
}
</script>