<script>

Controller.Charges = (function() {
  const public = {}

  public.openPage = () => {
    const eventsToBeCharged = Model.Charges.getEventsToBeCharged()
    const chargeHistory = Model.Charges.getChargeHistory()
    
    View.Charges.render(public, eventsToBeCharged, chargeHistory)
  }

  public.onAckCharges = (date) => {
    Model.Events.ackCharges(date)
    public.openPage()
  }

  public.onPrintChargingSheet = async () => {
    await Model.Charges.printChargingSheet()
    alert('Veloitustaulukko on p√§ivitetty.')
  }

  return public
})()
</script> 