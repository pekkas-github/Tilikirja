<script>

Model.Charges = (function() {
  const public = {}

  public.getChargeHistory = () => {
    return Model.Events.getEvents().desc('cleared')
  }

  public.getEventsToBeCharged = () => {
    const events = Model.Events.getEvents().where('cleared', '').where('charging', 'x')

    return events
  }

  public.printChargingSheet = async () => {
    await Server.api('updateChargingSheet')
  }

  return public
})()
</script>