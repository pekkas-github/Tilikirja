<script>

Controller.Reports = (function() {
  const public = {}

  public.openPage = () => {
    const accounts    = Model.Common.getAccounts()
    const years       = Model.Common.getYears()
    const currentYear = Model.Common.getCurrentYear()
    const report      = Model.Reports.getReport(currentYear)
    
    View.Reports.render(public, report, accounts, years, currentYear)
  }

  public.onChangeYear = (year) => {
    Model.Common.setCurrentYear(year)
    public.openPage()
  }

  return public
})()
</script>