<script>
class WaterPriceFormView {

  render(waterPrice) {

    let popupContent = `
      <p id="btn-popup-close">&times;</p>
      <h3>Veden hinta</h3>
      
      <table class="tbl-water-price">
        <tr>
          <td colspan="3"><h3>Hinnoittelun parametrit</h3></td>
        </tr>
        <tr>
          <td class="td-right">Alkaen:</td>
          <td class="number">${waterPrice.date}</td>
          <td></td>
        </tr>
        <tr>
          <td class="td-right">Kiinteistökerroin:</td>
          <td class="number">${waterPrice.factor}</td>
          <td></td>
        </tr>
        <tr>
          <td class="td-right">Pinta-alaperuste:</td>
          <td class="number">${waterPrice.area}</td>
          <td>m2</td>
        </tr>
        <tr>
          <td class="td-right">Perusmaksu:</td>
          <td class="number">${waterPrice.base_price}</td>
          <td>€/kk/m2</td>
        </tr>
        <tr>
          <td class="td-right">Arvioitu vuosikulutus:</td>
          <td class="number">${waterPrice.consumption}</td>
          <td>m3/vuosi</td>
        </tr>
        <tr>
          <td colspan="3"><h3>Veden hinta</h3></td>
        </tr>
        <tr>
          <td class="td-right">Perusmaksuosuus:</td>
          <td class="number">${waterPrice.base_part.toFixed(2)}</td>
          <td>€/kk</td>
        </tr>
        <tr>
          <td class="td-right">Käyttövesimaksu:</td>
          <td class="number">${waterPrice.water_price}</td>
          <td>€/m3</td>
        </tr>
        <tr>
          <td class="td-right">Jätevesimaksu:</td>
          <td class="number">${waterPrice.waste_price}</td>
          <td>€/m3</td>
        </tr>
        <tr>
      </table>

      <div class="popup-info">
        <p>Perusmaksuosuus = Kiinteistökerroin x Kerrosala x Perusmaksu</p>
        <p>Vesimaksuosuus = Käyttövesimaksu + Jätevesimaksu</p>
      </div>
      
      <div class="popup-info">
        <p>A-asunnon lukema määritetään kaavasta "Talon lukema - B-asunnon lukema."</p>
        <p>Perusmaksuosuus jaetaan tasan asuntojen kesken.</p>
      </div>`

    
    $('.popup-content').html(popupContent)

    $('#btn-popup-close').on('click', app.popup.off)

    app.popup.on()
  }
}
</script>