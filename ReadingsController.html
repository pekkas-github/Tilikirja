<script>

class ReadingsController {

  static openPage() {
    const readings = ReadingsModel.getReadings()
    
    ReadingsView.render(this, readings)
  }

  static async onAddReading(reading) {
    await ReadingsModel.addReading(reading)
    this.openPage()
  }

  static onOpenReadingForm() {
    const years       = Common.getYears()
    const currentYear = Common.getCurrentYear()
    
    ReadingFormView.render(this, years, currentYear)
  }

  static onOpenWaterPriceForm() {
    WaterPriceFormView.render(ReadingsModel.getCurrentWaterPrice())
  }
}

</script>