<script>

class ReadingsController {

  static async addReading(reading) {
    await ReadingsModel.addReading(reading)
    this.openReadingsPage()
  }

  static openReadingsPage() {
    const readings = ReadingsModel.getReadings()
    
    ReadingsView.controller = this
    ReadingsView.render(readings)
  }

  static openReadingForm() {
    const years       = Common.getYears()
    const currentYear = Common.getCurrentYear()
    
    ReadingFormView.controller = this
    ReadingFormView.render(years, currentYear)
  }

  static openWaterPriceForm() {
    WaterPriceFormView.render(ReadingsModel.getCurrentWaterPrice())
  }
}

</script>